<!DOCTYPE html>
<html>
<head>
    <title>Parkrun Parser Test</title>
</head>
<body>
    <h1>Testing parkrun event name parsing</h1>
    <div id="output"></div>

    <script>
        // Test event names
        const testCases = [
            "St Peters parkrun",
            "Albert parkrun, Melbourne",
            "Cowpasture Reserve parkrun, Camden",
            "Noosa parkrun",
            "Consolidated club report"
        ];

        const output = document.getElementById('output');

        console.log('Testing event name parsing:');
        console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');

        testCases.forEach(originalName => {
            let eventName = originalName.trim();

            // Check if should skip
            const shouldSkip = !eventName ||
                              eventName.toLowerCase().includes('consolidated') ||
                              eventName.toLowerCase().includes('report');

            // Apply transformations
            eventName = eventName.replace(/\s+parkrun,/i, ','); // "Name parkrun, Location" → "Name, Location"
            eventName = eventName.replace(/\s+parkrun$/i, '');  // "Name parkrun" → "Name"
            eventName = eventName.trim();

            const result = `
                <div style="margin-bottom: 20px; padding: 10px; border: 1px solid #ccc;">
                    <strong>Original:</strong> "${originalName}"<br>
                    <strong>Processed:</strong> "${eventName}"<br>
                    <strong>Skip:</strong> ${shouldSkip ? 'YES' : 'NO'}
                </div>
            `;

            output.innerHTML += result;

            console.log(`Original: "${originalName}"`);
            console.log(`Processed: "${eventName}"`);
            console.log(`Skip: ${shouldSkip}`);
            console.log('');
        });
    </script>
</body>
</html>
